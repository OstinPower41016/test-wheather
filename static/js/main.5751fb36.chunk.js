(this.webpackJsonpwheather=this.webpackJsonpwheather||[]).push([[0],{33:function(e){e.exports=JSON.parse('["\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440","\u0420\u043e\u0441\u0442\u043e\u0432","\u041c\u043e\u0441\u043a\u0432\u0430"]')},39:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a,i,r,c,s,o,l,d,u,b,j,p,x,m=n(1),f=n.n(m),h=n(12),v=n.n(h),O=(n(39),n(3)),g=n(4),k=n(6),y=n(8),w={isOpen:!1,searchText:"",allFavoriteCities:localStorage.getItem("favoriteCities")||""},N=Object(y.b)({name:"modal",initialState:w,reducers:{setStatusModal:function(e){e.isOpen=!e.isOpen},setSearchText:function(e,t){e.searchText=t.payload.searchText},addFavoriteCity:function(e,t){e.allFavoriteCities=e.allFavoriteCities+" "+t.payload.city,0!==t.payload.city.length&&localStorage.setItem("favoriteCities",e.allFavoriteCities)},removeFavoriteCity:function(e,t){console.log(t.payload.city);var n=e.allFavoriteCities.split(" "),a=n.findIndex((function(e){return e===t.payload.city}));n.splice(a,1);var i=n.join(" ");e.allFavoriteCities=i,0===i.trim().length?localStorage.removeItem("favoriteCities"):localStorage.setItem("favoriteCities",i)}}}),C=N.actions,F=C.setStatusModal,S=C.setSearchText,T=C.addFavoriteCity,z=C.removeFavoriteCity,I=N.reducer,A=k.c,M=n(13),E=n(11),J=n(10),L=n(16),R=n(27),U=n.n(R),_=n(15),B=n.n(_),P=n(28),q=n(29),D=n.n(q).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),G=function(){var e=Object(P.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.get("weather?APPID=b79ccfe94759a38a9dcc9f9c8ef0942c&lang=ru&units=metric&q=".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),H=n(2),K=function(e){var t;return Boolean(null===(t=localStorage.getItem("favoriteCities"))||void 0===t?void 0:t.trim().split(" ").find((function(t){return t===e})))},Q=g.a.div(a||(a=Object(O.a)(["\n  top: 20%;\n  left: 50%;\n  transform: translate(-50%);\n  background: white;\n"]))),V=g.a.div(i||(i=Object(O.a)(["\n  box-shadow: ",";\n  background: linear-gradient(135deg, #19506d, #abd0e2);\n  top: 20%;\n  left: 50%;\n  transform: ",";\n  color: #0b0b0b;\n"])),(function(e){return e.isAbsolute?"0 0 8px 2px black;":""}),(function(e){return e.isAbsolute?"translate(-50%)":""})),W=g.a.div(r||(r=Object(O.a)(["\n  cursor: pointer;\n  color: ",";\n  transition: 1s;\n"])),(function(e){return e.isFavorite?"gold":"#3e3e3e"})),X=function(e){var t=Object(k.b)(),n=m.useState(),a=Object(J.a)(n,2),i=a[0],r=a[1],c=m.useState(!1),s=Object(J.a)(c,2),o=s[0],l=s[1];m.useEffect((function(){G(e.searchText).then((function(e){e?r({name:e.name,temp:Math.round(e.main.temp),feels_like:Math.round(e.main.feels_like),description:e.weather[0].description,iconURL:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),pressure:e.main.pressure,isFavorite:K(e.name)}):l(!0)}))}),[]);return Object(H.jsxs)(H.Fragment,{children:[!o&&Object(H.jsxs)(V,{className:U()("py-3 px-5 rounded",Object(M.a)({},e.className,e.className?e.className:"")),isAbsolute:"absolute"===e.className,children:[Object(H.jsxs)("div",{className:"flex items-center justify-between",children:[Object(H.jsx)("span",{className:"mr-4",children:null===i||void 0===i?void 0:i.name}),Object(H.jsxs)("div",{className:"flex items-center",children:[Object(H.jsx)("img",{className:"mr-2",src:null===i||void 0===i?void 0:i.iconURL,alt:null===i||void 0===i?void 0:i.description}),Object(H.jsxs)("span",{className:"text-xl font-bold",children:[null===i||void 0===i?void 0:i.temp," \u2103"]})]}),Object(H.jsxs)("div",{className:"flex",children:[Object(H.jsx)(W,{className:"mr-2",isFavorite:null===i||void 0===i?void 0:i.isFavorite,onClick:function(){return function(e){var n;(null===(n=localStorage.getItem("favoriteCities"))||void 0===n?void 0:n.trim().split(" ").find((function(t){return t===e})))?(t(z({city:e})),r(Object(E.a)(Object(E.a)({},i),{},{isFavorite:!1}))):(t(T({city:e})),r(Object(E.a)(Object(E.a)({},i),{},{isFavorite:!0})))}(null===i||void 0===i?void 0:i.name)},children:Object(H.jsx)(L.a,{})}),e.noClose?null:Object(H.jsx)(W,{onClick:function(){return t(F())},children:Object(H.jsx)(L.b,{})})]})]}),Object(H.jsxs)("p",{children:[Object(H.jsx)("strong",{children:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a:"})," ",null===i||void 0===i?void 0:i.feels_like," \u2103"]}),Object(H.jsxs)("p",{children:[Object(H.jsx)("strong",{children:"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435:"})," ",null===i||void 0===i?void 0:i.pressure," \u043c\u0431\u0430\u0440"]})]}),o&&Object(H.jsx)(Q,{className:"absolute flex px-4 py-3",children:Object(H.jsx)("p",{className:"mr-4",children:"\u041f\u043e \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435 \u0431\u044b\u043b\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"})})]})},Y=g.a.div(c||(c=Object(O.a)(["\n  background: #ccccccbd;\n"]))),Z=g.a.dialog(s||(s=Object(O.a)(["\n  background: transparent;\n  top: 0;\n"]))),$=function(){var e=A((function(e){return e.modal})),t=e.isOpen,n=e.searchText,a=Object(k.b)();return Object(H.jsx)(H.Fragment,{children:t&&Object(H.jsxs)(Z,{open:!0,className:"absolute h-screen w-screen ",children:[Object(H.jsx)("div",{className:"z-20",children:Object(H.jsx)(X,{searchText:n,className:"absolute"})}),Object(H.jsx)(Y,{className:"w-full h-full z-10",onClick:function(){return a(F())}})]})})},ee=n(33),te=g.a.div(o||(o=Object(O.a)(["\n  & > div {\n    margin-top: 2rem;\n  }\n"]))),ne=g.a.span(l||(l=Object(O.a)(["\n  display: block;\n  text-align: center;\n  width: 100%;\n  margin-top: 1rem;\n"]))),ae=function(){var e=A((function(e){return e.modal.allFavoriteCities})),t=m.useState([]),n=Object(J.a)(t,2),a=n[0],i=n[1],r=A((function(e){return e.mode.mode}));m.useEffect((function(){var t=e.trim().split(" ");t[0]&&i(t.map((function(e){return Object(H.jsx)(X,{className:"static",searchText:e,noClose:!0},e)})))}),[e]);var c=ee.map((function(e){return Object(H.jsx)(X,{searchText:e,noClose:!0},e)}));return Object(H.jsx)("div",{className:"container mx-auto mt-6",children:Object(H.jsx)(te,{className:"flex justify-around flex-wrap",children:"\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439"===r?c:e.trim().length?a:Object(H.jsx)(ne,{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})})})},ie=n(34),re=g.a.input(d||(d=Object(O.a)(["\n  outline: none;\n  background: #e3e3e3;\n  width: 100%;\n  border-radius: 0.25rem 0 0 0.25rem;\n"]))),ce=g.a.button(u||(u=Object(O.a)(["\n  background: #3c3cce;\n  color: white;\n  border-radius: 0 0.25rem 0.25rem 0;\n  transition: 0.3s;\n  &:disabled {\n    background: #b8b6c3;\n    color: black;\n  }\n"]))),se=g.a.div(b||(b=Object(O.a)(["\n  border: 1px solid black;\n"]))),oe=function(){var e=Object(k.b)(),t=A((function(e){return e.modal.searchText}));return Object(H.jsxs)(se,{className:"flex justify-between container mx-auto rounded w-6/12 mt-4",children:[Object(H.jsx)(re,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434...",className:"py-2 px-4",value:t,onInput:function(t){return function(t){return e(S({searchText:t.target.value}))}(t)}}),Object(H.jsxs)(ce,{className:"flex items-center py-2 px-4",onClick:function(){return e(F())},disabled:t.length<=2,children:[Object(H.jsx)("span",{className:"mr-4",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(H.jsx)(ie.a,{})]})]})},le=Object(y.b)({name:"mode",initialState:{mode:"\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439"},reducers:{setStatus:function(e){"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439"===e.mode?e.mode="\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439":e.mode="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439"}}}),de=le.actions.setStatus,ue=le.reducer,be=g.a.label(j||(j=Object(O.a)(["\n  display: inline-block;\n  height: 28px;\n  line-height: 28px;\n  margin-right: 10px;\n  position: relative;\n  vertical-align: middle;\n  font-size: 14px;\n  user-select: none;\n"]))),je=g.a.input(p||(p=Object(O.a)(["\n  display: block;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  &:checked + span {\n    background-color: #70c767;\n  }\n  &:checked + span::before {\n    left: 0;\n  }\n  &:checked + span::after {\n    transform: translate3d(148px, 0, 0);\n    color: #4fb743;\n  }\n"]))),pe=g.a.span(x||(x=Object(O.a)(['\n  display: inline-block;\n  height: 28px;\n  width: 300px;\n  box-sizing: border-box;\n  position: relative;\n  border-radius: 2px;\n  background: #848484;\n  transition: background-color 0.3s cubic-bezier(0, 1, 0.5, 1);\n  &::before {\n    content: "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439";\n    display: inline-block;\n    box-sizing: border-box;\n    width: 150px;\n    padding: 0 12px;\n    position: absolute;\n    top: 0;\n    left: 150px;\n    text-transform: uppercase;\n    text-align: center;\n    color: rgba(255, 255, 255, 0.5);\n    font-size: 10px;\n    line-height: 28px;\n  }\n  &::after {\n    content: "\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439";\n    display: inline-block;\n    box-sizing: border-box;\n    width: 150px;\n    border-radius: 1px;\n    position: absolute;\n    top: 1px;\n    left: 1px;\n    text-transform: uppercase;\n    text-align: center;\n    background: white;\n    line-height: 26px;\n    font-size: 10px;\n    color: #777;\n    transition: transform 0.3s cubic-bezier(0, 1, 0.5, 1);\n  }\n']))),xe=function(){var e=Object(k.b)();return Object(H.jsx)("div",{className:"container mx-auto flex justify-end mt-4",children:Object(H.jsxs)(be,{children:[Object(H.jsx)(je,{type:"checkbox",onClick:function(){return e(de())}}),Object(H.jsx)(pe,{})]})})},me=function(e){return Object(H.jsxs)("div",{children:[Object(H.jsx)(xe,{}),Object(H.jsx)(oe,{}),Object(H.jsx)(ae,{})]})};var fe=function(){return Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)(me,{}),Object(H.jsx)($,{})]})},he=Object(y.a)({reducer:{modal:I,mode:ue}});v.a.render(Object(H.jsx)(f.a.StrictMode,{children:Object(H.jsx)(k.a,{store:he,children:Object(H.jsx)(fe,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.5751fb36.chunk.js.map