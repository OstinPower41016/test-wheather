(this.webpackJsonpwheather=this.webpackJsonpwheather||[]).push([[0],{33:function(e){e.exports=JSON.parse('["\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440","\u0420\u043e\u0441\u0442\u043e\u0432","\u041c\u043e\u0441\u043a\u0432\u0430"]')},39:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a,i,r,c,s,o,l,d,u,b,j,p,x,m,f=n(1),h=n.n(f),v=n(12),O=n.n(v),g=(n(39),n(3)),k=n(4),y=n(6),w=n(8),N={isOpen:!1,searchText:"",allFavoriteCities:localStorage.getItem("favoriteCities")||""},C=Object(w.b)({name:"modal",initialState:N,reducers:{setStatusModal:function(e){e.isOpen=!e.isOpen},setSearchText:function(e,t){e.searchText=t.payload.searchText},addFavoriteCity:function(e,t){e.allFavoriteCities=e.allFavoriteCities+" "+t.payload.city,0!==t.payload.city.length&&localStorage.setItem("favoriteCities",e.allFavoriteCities)},removeFavoriteCity:function(e,t){console.log(t.payload.city);var n=e.allFavoriteCities.split(" "),a=n.findIndex((function(e){return e===t.payload.city}));n.splice(a,1);var i=n.join(" ");e.allFavoriteCities=i,0===i.trim().length?localStorage.removeItem("favoriteCities"):localStorage.setItem("favoriteCities",i)}}}),F=C.actions,S=F.setStatusModal,T=F.setSearchText,z=F.addFavoriteCity,I=F.removeFavoriteCity,A=C.reducer,M=y.c,E=n(13),J=n(11),L=n(10),R=n(16),U=n(27),_=n.n(U),B=n(15),P=n.n(B),q=n(28),D=n(29),G=n.n(D).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),H=function(){var e=Object(q.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.get("weather?APPID=b79ccfe94759a38a9dcc9f9c8ef0942c&lang=ru&units=metric&q=".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),K=n(2),Q=function(e){var t;return Boolean(null===(t=localStorage.getItem("favoriteCities"))||void 0===t?void 0:t.trim().split(" ").find((function(t){return t===e})))},V=k.a.div(a||(a=Object(g.a)(["\n  top: 20%;\n  left: 50%;\n  transform: translate(-50%);\n  background: white;\n"]))),W=k.a.div(i||(i=Object(g.a)(["\n  box-shadow: ",";\n  background: linear-gradient(135deg, #19506d, #abd0e2);\n  top: 20%;\n  left: 50%;\n  transform: ",";\n  color: #0b0b0b;\n"])),(function(e){return e.isAbsolute?"0 0 8px 2px black;":""}),(function(e){return e.isAbsolute?"translate(-50%)":""})),X=k.a.div(r||(r=Object(g.a)(["\n  cursor: pointer;\n  color: ",";\n  transition: 1s;\n"])),(function(e){return e.isFavorite?"gold":"#3e3e3e"})),Y=function(e){var t=Object(y.b)(),n=f.useState(),a=Object(L.a)(n,2),i=a[0],r=a[1],c=f.useState(!1),s=Object(L.a)(c,2),o=s[0],l=s[1];f.useEffect((function(){H(e.searchText).then((function(e){e?r({name:e.name,temp:Math.round(e.main.temp),feels_like:Math.round(e.main.feels_like),description:e.weather[0].description,iconURL:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),pressure:e.main.pressure,isFavorite:Q(e.name)}):l(!0)}))}),[]);return Object(K.jsxs)(K.Fragment,{children:[!o&&Object(K.jsxs)(W,{className:_()("py-3 px-5 rounded",Object(E.a)({},e.className,e.className?e.className:"")),isAbsolute:"absolute"===e.className,children:[Object(K.jsxs)("div",{className:"flex items-center justify-between",children:[Object(K.jsx)("span",{className:"mr-4",children:null===i||void 0===i?void 0:i.name}),Object(K.jsxs)("div",{className:"flex items-center",children:[Object(K.jsx)("img",{className:"mr-2",src:null===i||void 0===i?void 0:i.iconURL,alt:null===i||void 0===i?void 0:i.description}),Object(K.jsxs)("span",{className:"text-xl font-bold",children:[null===i||void 0===i?void 0:i.temp," \u2103"]})]}),Object(K.jsxs)("div",{className:"flex",children:[Object(K.jsx)(X,{className:"mr-2",isFavorite:null===i||void 0===i?void 0:i.isFavorite,onClick:function(){return function(e){var n;(null===(n=localStorage.getItem("favoriteCities"))||void 0===n?void 0:n.trim().split(" ").find((function(t){return t===e})))?(t(I({city:e})),r(Object(J.a)(Object(J.a)({},i),{},{isFavorite:!1}))):(t(z({city:e})),r(Object(J.a)(Object(J.a)({},i),{},{isFavorite:!0})))}(null===i||void 0===i?void 0:i.name)},children:Object(K.jsx)(R.a,{})}),e.noClose?null:Object(K.jsx)(X,{onClick:function(){return t(S())},children:Object(K.jsx)(R.b,{})})]})]}),Object(K.jsxs)("p",{children:[Object(K.jsx)("strong",{children:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a:"})," ",null===i||void 0===i?void 0:i.feels_like," \u2103"]}),Object(K.jsxs)("p",{children:[Object(K.jsx)("strong",{children:"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435:"})," ",null===i||void 0===i?void 0:i.pressure," \u043c\u0431\u0430\u0440"]})]}),o&&Object(K.jsx)(V,{className:"absolute flex px-4 py-3",children:Object(K.jsx)("p",{className:"mr-4",children:"\u041f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435 \u0431\u044b\u043b\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"})})]})},Z=k.a.div(c||(c=Object(g.a)([""]))),$=k.a.div(s||(s=Object(g.a)(["\n  background: #ccccccbd;\n"]))),ee=k.a.dialog(o||(o=Object(g.a)(["\n  background: transparent;\n  top: 0;\n"]))),te=function(){var e=M((function(e){return e.modal})),t=e.isOpen,n=e.searchText,a=Object(y.b)();return Object(K.jsx)(K.Fragment,{children:t&&Object(K.jsxs)(ee,{open:!0,className:"absolute h-screen w-screen ",children:[Object(K.jsx)(Z,{className:"z-20",children:Object(K.jsx)(Y,{searchText:n,className:"absolute"})}),Object(K.jsx)($,{className:"w-full h-full z-10",onClick:function(){return a(S())}})]})})},ne=n(33),ae=k.a.div(l||(l=Object(g.a)(["\n  & > div {\n    margin-top: 2rem;\n  }\n"]))),ie=k.a.span(d||(d=Object(g.a)(["\n  display: block;\n  text-align: center;\n  width: 100%;\n  margin-top: 1rem;\n"]))),re=function(){var e=M((function(e){return e.modal.allFavoriteCities})),t=f.useState([]),n=Object(L.a)(t,2),a=n[0],i=n[1],r=M((function(e){return e.mode.mode}));f.useEffect((function(){var t=e.trim().split(" ");t[0]&&i(t.map((function(e){return Object(K.jsx)(Y,{className:"static",searchText:e,noClose:!0},e)})))}),[e]);var c=ne.map((function(e){return Object(K.jsx)(Y,{searchText:e,noClose:!0},e)}));return Object(K.jsx)("div",{className:"container mx-auto mt-6",children:Object(K.jsx)(ae,{className:"flex justify-around flex-wrap",children:"\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439"===r?c:e.trim().length?a:Object(K.jsx)(ie,{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})})})},ce=n(34),se=k.a.input(u||(u=Object(g.a)(["\n  outline: none;\n  background: #e3e3e3;\n  width: 100%;\n  border-radius: 0.25rem 0 0 0.25rem;\n"]))),oe=k.a.button(b||(b=Object(g.a)(["\n  background: #3c3cce;\n  color: white;\n  border-radius: 0 0.25rem 0.25rem 0;\n  transition: 0.3s;\n  &:disabled {\n    background: #b8b6c3;\n    color: black;\n  }\n"]))),le=k.a.div(j||(j=Object(g.a)(["\n  border: 1px solid black;\n"]))),de=function(){var e=Object(y.b)(),t=M((function(e){return e.modal.searchText}));return Object(K.jsxs)(le,{className:"flex justify-between container mx-auto rounded w-6/12 mt-4",children:[Object(K.jsx)(se,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434...",className:"py-2 px-4",value:t,onInput:function(t){return function(t){e(T({searchText:t.target.value}))}(t)}}),Object(K.jsxs)(oe,{className:"flex items-center py-2 px-4",onClick:function(){return e(S())},disabled:t.length<=2,children:[Object(K.jsx)("span",{className:"mr-4",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(K.jsx)(ce.a,{})]})]})},ue=Object(w.b)({name:"mode",initialState:{mode:"\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439"},reducers:{setStatus:function(e){"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439"===e.mode?e.mode="\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439":e.mode="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439"}}}),be=ue.actions.setStatus,je=ue.reducer,pe=k.a.label(p||(p=Object(g.a)(["\n  display: inline-block;\n  height: 28px;\n  line-height: 28px;\n  margin-right: 10px;\n  position: relative;\n  vertical-align: middle;\n  font-size: 14px;\n  user-select: none;\n"]))),xe=k.a.input(x||(x=Object(g.a)(["\n  display: block;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  &:checked + span {\n    background-color: #70c767;\n  }\n  &:checked + span::before {\n    left: 0;\n  }\n  &:checked + span::after {\n    transform: translate3d(148px, 0, 0);\n    color: #4fb743;\n  }\n"]))),me=k.a.span(m||(m=Object(g.a)(['\n  display: inline-block;\n  height: 28px;\n  width: 300px;\n  box-sizing: border-box;\n  position: relative;\n  border-radius: 2px;\n  background: #848484;\n  transition: background-color 0.3s cubic-bezier(0, 1, 0.5, 1);\n  &::before {\n    content: "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439";\n    display: inline-block;\n    box-sizing: border-box;\n    width: 150px;\n    padding: 0 12px;\n    position: absolute;\n    top: 0;\n    left: 150px;\n    text-transform: uppercase;\n    text-align: center;\n    color: rgba(255, 255, 255, 0.5);\n    font-size: 10px;\n    line-height: 28px;\n  }\n  &::after {\n    content: "\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439";\n    display: inline-block;\n    box-sizing: border-box;\n    width: 150px;\n    border-radius: 1px;\n    position: absolute;\n    top: 1px;\n    left: 1px;\n    text-transform: uppercase;\n    text-align: center;\n    background: white;\n    line-height: 26px;\n    font-size: 10px;\n    color: #777;\n    transition: transform 0.3s cubic-bezier(0, 1, 0.5, 1);\n  }\n']))),fe=function(){var e=Object(y.b)();return Object(K.jsx)("div",{className:"container mx-auto flex justify-end mt-4",children:Object(K.jsxs)(pe,{children:[Object(K.jsx)(xe,{type:"checkbox",onClick:function(){return e(be())}}),Object(K.jsx)(me,{})]})})},he=function(e){return Object(K.jsxs)("div",{children:[Object(K.jsx)(fe,{}),Object(K.jsx)(de,{}),Object(K.jsx)(re,{})]})};var ve=function(){return Object(K.jsxs)("div",{className:"App",children:[Object(K.jsx)(he,{}),Object(K.jsx)(te,{})]})},Oe=Object(w.a)({reducer:{modal:A,mode:je}});O.a.render(Object(K.jsx)(h.a.StrictMode,{children:Object(K.jsx)(y.a,{store:Oe,children:Object(K.jsx)(ve,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.7af0e748.chunk.js.map