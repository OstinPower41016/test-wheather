(this.webpackJsonpwheather=this.webpackJsonpwheather||[]).push([[0],{18:function(e){e.exports=JSON.parse('["\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440","\u0420\u043e\u0441\u0442\u043e\u0432","\u041c\u043e\u0441\u043a\u0432\u0430"]')},40:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a,i,r,c,s,o,l,d,u,b,x,p,m,j,h,f,v,O=n(1),g=n.n(O),y=n(12),w=n.n(y),k=(n(40),n(3)),C=n(4),N=n(5),F=n(7),T={isOpen:!1,searchText:"",allFavoriteCities:localStorage.getItem("favoriteCities")||""},S=Object(F.b)({name:"modal",initialState:T,reducers:{setStatusModal:function(e){e.isOpen=!e.isOpen},setSearchText:function(e,t){e.searchText=t.payload.searchText},addFavoriteCity:function(e,t){e.allFavoriteCities=e.allFavoriteCities+" "+t.payload.city,0!==t.payload.city.length&&localStorage.setItem("favoriteCities",e.allFavoriteCities)},removeFavoriteCity:function(e,t){console.log(t.payload.city);var n=e.allFavoriteCities.split(" "),a=n.findIndex((function(e){return e===t.payload.city}));n.splice(a,1);var i=n.join(" ");e.allFavoriteCities=i,0===i.trim().length?localStorage.removeItem("favoriteCities"):localStorage.setItem("favoriteCities",i)}}}),z=S.actions,I=z.setStatusModal,M=z.setSearchText,U=z.addFavoriteCity,A=z.removeFavoriteCity,D=S.reducer,E=N.c,J=n(9),L=n(10),R=n(17),_=n(13),B=n.n(_),P=n(15),q=n.n(P),G=n(29),H=n(30),K=n.n(H).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),Q=function(){var e=Object(G.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get("weather?APPID=b79ccfe94759a38a9dcc9f9c8ef0942c&lang=ru&units=metric&q=".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=n(16),W=Object(F.b)({name:"cashed",initialState:{},reducers:{setCashedCity:function(e,t){var n=t.payload,a=n.city,i=n.dataCity;e[a]=Object(V.a)(Object(V.a)({},i),{},{statusUpdate:""})},refreshCashedData:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){e[Object(L.a)(n[t],1)[0]].statusUpdate="start refresh"}},updateFavorite:function(e,t){e[t.payload.city].isFavorite=t.payload.isFavorite}}}),X=W.actions,Y=X.setCashedCity,Z=X.updateFavorite,$=X.refreshCashedData,ee=W.reducer,te=n(2),ne=function(e){var t;return Boolean(null===(t=localStorage.getItem("favoriteCities"))||void 0===t?void 0:t.trim().split(" ").find((function(t){return t===e})))},ae=C.a.div(a||(a=Object(k.a)(["\n  top: 20%;\n  left: 50%;\n  transform: translate(-50%);\n  background: white;\n"]))),ie=C.a.div(i||(i=Object(k.a)(["\n  box-shadow: ",";\n  background: linear-gradient(135deg, #19506d, #abd0e2);\n  top: 20%;\n  left: 50%;\n  transform: ",";\n  color: #0b0b0b;\n  @media (max-width: 600px) {\n    left: 50%;\n    min-width: 300px;\n  }\n"])),(function(e){return e.isAbsolute?"0 0 8px 2px black;":""}),(function(e){return e.isAbsolute?"translate(-50%)":""})),re=C.a.div(r||(r=Object(k.a)(["\n  cursor: pointer;\n  color: ",";\n  transition: 1s;\n"])),(function(e){return e.isFavorite?"gold":"#3e3e3e"})),ce=function(e){var t,n,a,i,r,c,s,o=Object(N.b)(),l=O.useState(!1),d=Object(L.a)(l,2),u=d[0],b=d[1],x=E((function(e){return e.cashed}));O.useEffect((function(){x[e.searchText]&&""===x[e.searchText].statusUpdate||Q(e.searchText).then((function(e){if(e){var t={name:e.name,temp:Math.round(e.main.temp),feels_like:Math.round(e.main.feels_like),description:e.weather[0].description,iconURL:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),pressure:e.main.pressure,isFavorite:ne(e.name)};o(Y({city:t.name,dataCity:t}))}else b(!0)}))}),[x]);return Object(te.jsxs)(te.Fragment,{children:[!u&&Object(te.jsxs)(ie,{className:B()("py-3 px-5 rounded",Object(J.a)({},e.className,e.className?e.className:"")),isAbsolute:"absolute"===e.className,children:[Object(te.jsxs)("div",{className:"flex items-center justify-between",children:[Object(te.jsx)("span",{className:"mr-4",children:null===(t=x[e.searchText])||void 0===t?void 0:t.name}),Object(te.jsxs)("div",{className:"flex items-center",children:[Object(te.jsx)("img",{className:"mr-2",src:null===(n=x[e.searchText])||void 0===n?void 0:n.iconURL,alt:null===(a=x[e.searchText])||void 0===a?void 0:a.description}),Object(te.jsxs)("span",{className:"text-xl font-bold",children:[null===(i=x[e.searchText])||void 0===i?void 0:i.temp," \u2103"]})]}),Object(te.jsxs)("div",{className:"flex",children:[Object(te.jsx)(re,{className:"mr-2",isFavorite:null===(r=x[e.searchText])||void 0===r?void 0:r.isFavorite,onClick:function(){var t;return function(e){var t;(null===(t=localStorage.getItem("favoriteCities"))||void 0===t?void 0:t.trim().split(" ").find((function(t){return t===e})))?(o(A({city:e})),o(Z({city:e,isFavorite:!1}))):(o(U({city:e})),o(Z({city:e,isFavorite:!0})))}(null===(t=x[e.searchText])||void 0===t?void 0:t.name)},children:Object(te.jsx)(R.a,{})}),e.noClose?null:Object(te.jsx)(re,{onClick:function(){return o(I())},children:Object(te.jsx)(R.b,{})})]})]}),Object(te.jsxs)("p",{children:[Object(te.jsx)("strong",{children:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a:"})," ",null===(c=x[e.searchText])||void 0===c?void 0:c.feels_like," \u2103"]}),Object(te.jsxs)("p",{children:[Object(te.jsx)("strong",{children:"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435:"})," ",null===(s=x[e.searchText])||void 0===s?void 0:s.pressure," \u043c\u0431\u0430\u0440"]})]}),u&&Object(te.jsx)(ae,{className:"absolute flex px-4 py-3",children:Object(te.jsx)("p",{className:"mr-4",children:"\u041f\u043e \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435 \u0431\u044b\u043b\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"})})]})},se=C.a.div(c||(c=Object(k.a)(["\n  background: #ccccccbd;\n"]))),oe=C.a.dialog(s||(s=Object(k.a)(["\n  background: transparent;\n  top: 0;\n"]))),le=function(){var e=E((function(e){return e.modal})),t=e.isOpen,n=e.searchText,a=Object(N.b)();return Object(te.jsx)(te.Fragment,{children:t&&Object(te.jsxs)(oe,{open:!0,className:"absolute h-screen w-screen ",children:[Object(te.jsx)("div",{className:"z-20",children:Object(te.jsx)(ce,{searchText:n,className:"absolute"})}),Object(te.jsx)(se,{className:"w-full h-full z-10",onClick:function(){return a(I())}})]})})},de=n(18),ue=C.a.div(o||(o=Object(k.a)(["\n  @media (max-width: 500px) {\n    margin-top: 0 !important;\n  }\n"]))),be=C.a.div(l||(l=Object(k.a)(["\n  & > div {\n    margin-top: 2rem;\n  }\n"]))),xe=C.a.span(d||(d=Object(k.a)(["\n  display: block;\n  text-align: center;\n  width: 100%;\n  margin-top: 1rem;\n"]))),pe=function(){var e=E((function(e){return e.modal.allFavoriteCities})),t=O.useState([]),n=Object(L.a)(t,2),a=n[0],i=n[1],r=E((function(e){return e.mode.mode})),c=O.useMemo((function(){return de.map((function(e){return Object(te.jsx)(ce,{searchText:e,noClose:!0},e)}))}),[de]);return O.useEffect((function(){var t=e.trim().split(" ");t[0]&&i(t.map((function(e){return Object(te.jsx)(ce,{className:"static",searchText:e,noClose:!0},e)})))}),[e]),Object(te.jsx)(ue,{className:"container mx-auto mt-6",children:Object(te.jsx)(be,{className:"flex justify-around flex-wrap",children:"\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439"===r?c:e.trim().length?a:Object(te.jsx)(xe,{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442"})})})},me=n(34),je=C.a.input(u||(u=Object(k.a)(["\n  outline: none;\n  background: #e3e3e3;\n  width: 100%;\n  border-radius: 0.25rem 0 0 0.25rem;\n  @media (max-width: 400px) {\n    font-size: 12px;\n  }\n"]))),he=C.a.button(b||(b=Object(k.a)(["\n  background: #3c3cce;\n  color: white;\n  border-radius: 0 0.25rem 0.25rem 0;\n  transition: 0.3s;\n  &:disabled {\n    background: #b8b6c3;\n    color: black;\n  }\n  @media (max-width: 400px) {\n    font-size: 12px;\n  }\n"]))),fe=C.a.div(x||(x=Object(k.a)(["\n  border: 1px solid black;\n  @media (max-width: 600px) {\n    width: 90%;\n  }\n"]))),ve=function(){var e=Object(N.b)(),t=E((function(e){return e.modal.searchText}));return Object(te.jsxs)(fe,{className:"flex justify-between container mx-auto rounded w-6/12 mt-4",children:[Object(te.jsx)(je,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434...",className:"py-2 px-4",value:t,onInput:function(t){return function(t){return e(M({searchText:t.target.value}))}(t)}}),Object(te.jsxs)(he,{className:"flex items-center py-2 px-4",onClick:function(){return e(I())},disabled:t.length<=2,children:[Object(te.jsx)("span",{className:"mr-4",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(te.jsx)(me.a,{})]})]})},Oe=Object(F.b)({name:"mode",initialState:{mode:"\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439"},reducers:{setStatus:function(e){"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439"===e.mode?e.mode="\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439":e.mode="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439"}}}),ge=Oe.actions.setStatus,ye=Oe.reducer,we=n(35),ke=C.a.button(p||(p=Object(k.a)(["\n  border: 1px solid black;\n  padding: 0.5rem 1.5rem;\n  cursor: pointer;\n"]))),Ce=function(e){var t=Object(N.b)();return Object(te.jsxs)(ke,{className:B()("flex items-center rounded",Object(J.a)({},e.className,e.className)),onClick:function(){t($())},children:[Object(te.jsx)("p",{className:"mr-2",children:"\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(te.jsx)(we.a,{})]})},Ne=C.a.div(m||(m=Object(k.a)(["\n  @media (max-width: 768px) {\n    justify-content: center;\n  }\n  @media (max-width: 450px) {\n    justify-content: center;\n    flex-wrap: wrap;\n  }\n"]))),Fe=Object(C.a)(Ce)(j||(j=Object(k.a)(["\n  @media (max-width: 450px) {\n    margin-top: 0.5rem;\n    order: 2;\n  }\n"]))),Te=C.a.label(h||(h=Object(k.a)(["\n  display: inline-block;\n  height: 28px;\n  line-height: 28px;\n  margin-right: 10px;\n  position: relative;\n  vertical-align: middle;\n  font-size: 14px;\n  user-select: none;\n  @media (max-width: 450px) {\n    order: 1;\n  }\n"]))),Se=C.a.input(f||(f=Object(k.a)(["\n  display: block;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  &:checked + span {\n    background-color: #70c767;\n  }\n  &:checked + span::before {\n    left: 0;\n  }\n  &:checked + span::after {\n    transform: translate3d(148px, 0, 0);\n    color: #4fb743;\n  }\n"]))),ze=C.a.span(v||(v=Object(k.a)(['\n  display: inline-block;\n  height: 28px;\n  width: 300px;\n  box-sizing: border-box;\n  position: relative;\n  border-radius: 2px;\n  background: #848484;\n  transition: background-color 0.3s cubic-bezier(0, 1, 0.5, 1);\n  &::before {\n    content: "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439";\n    display: inline-block;\n    box-sizing: border-box;\n    width: 150px;\n    padding: 0 12px;\n    position: absolute;\n    top: 0;\n    left: 150px;\n    text-transform: uppercase;\n    text-align: center;\n    color: rgba(255, 255, 255, 0.5);\n    font-size: 10px;\n    line-height: 28px;\n  }\n  &::after {\n    content: "\u041f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439";\n    display: inline-block;\n    box-sizing: border-box;\n    width: 150px;\n    border-radius: 1px;\n    position: absolute;\n    top: 1px;\n    left: 1px;\n    text-transform: uppercase;\n    text-align: center;\n    background: white;\n    line-height: 26px;\n    font-size: 10px;\n    color: #777;\n    transition: transform 0.3s cubic-bezier(0, 1, 0.5, 1);\n  }\n']))),Ie=function(){var e=Object(N.b)();return Object(te.jsxs)(Ne,{className:"container mx-auto flex justify-between items-center mt-4",children:[Object(te.jsx)(Fe,{className:"mr-4 "}),Object(te.jsxs)(Te,{children:[Object(te.jsx)(Se,{type:"checkbox",onClick:function(){return e(ge())}}),Object(te.jsx)(ze,{})]})]})},Me=function(e){return Object(te.jsxs)("div",{children:[Object(te.jsx)(Ie,{}),Object(te.jsx)(ve,{}),Object(te.jsx)(pe,{})]})};var Ue=function(){return Object(te.jsxs)("div",{className:"App",children:[Object(te.jsx)(Me,{}),Object(te.jsx)(le,{})]})},Ae=Object(F.a)({reducer:{modal:D,mode:ye,cashed:ee}});w.a.render(Object(te.jsx)(g.a.StrictMode,{children:Object(te.jsx)(N.a,{store:Ae,children:Object(te.jsx)(Ue,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.4f90d25c.chunk.js.map